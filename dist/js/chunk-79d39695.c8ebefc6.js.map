{"version":3,"sources":["webpack:///./src/views/point/index.vue?f376","webpack:///./node_modules/core-js/library/modules/es6.number.parse-int.js","webpack:///./node_modules/vant/es/list/style/index.js","webpack:///./node_modules/vant/es/list/index.js","webpack:///./node_modules/core-js/library/fn/number/parse-int.js","webpack:///./src/assets/js/public.js","webpack:///./node_modules/core-js/library/modules/_parse-int.js","webpack:///./node_modules/@babel/runtime-corejs2/core-js/number/parse-int.js","webpack:///./node_modules/core-js/library/modules/_string-trim.js","webpack:///./src/views/point/index.vue?0a86","webpack:///./src/api/point.js","webpack:///src/views/point/index.vue","webpack:///./src/views/point/index.vue?83a2","webpack:///./src/views/point/index.vue","webpack:///./src/assets/images/data-null-icon.png","webpack:///./node_modules/core-js/library/modules/_string-ws.js"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_index_vue_vue_type_style_index_0_id_24f06d03_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_index_vue_vue_type_style_index_0_id_24f06d03_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","n","$export","$parseInt","S","F","Number","parseInt","_utils__WEBPACK_IMPORTED_MODULE_0__","_utils_scroll__WEBPACK_IMPORTED_MODULE_1__","_loading__WEBPACK_IMPORTED_MODULE_2__","_utils_event__WEBPACK_IMPORTED_MODULE_3__","_use","Object","sfc","bem","t","__webpack_exports__","model","prop","props","error","Boolean","loading","finished","errorText","String","loadingText","finishedText","immediateCheck","type","default","offset","mounted","this","scroller","getScrollEventTarget","$el","handler","$nextTick","check","destroyed","activated","deactivated","watch","methods","el","scrollerHeight","getVisibleHeight","getComputedStyle","display","offsetParent","scrollTop","getScrollTop","targetBottom","reachBottom","scrollHeight","elBottom","getElementTop","$emit","clickErrorText","bind","binded","render","h","class","$slots","on","click","module","exports","formatPhone","phone","toString","substr","toThousands","val","num","result","length","slice","timeToDateTime","timestamp","sym","formatNumber","date","Date","year","getFullYear","month","getMonth","day","getDate","map","join","timeToDate","getHours","m","getMinutes","s","getSeconds","$trim","trim","ws","hex","str","radix","string","test","defined","fails","spaces","space","non","ltrim","RegExp","rtrim","exporter","KEY","exec","ALIAS","exp","FORCE","fn","P","TYPE","replace","_vm","_h","$createElement","_c","_self","staticClass","_v","_s","accumulatPoints","style","min-height","$store","state","bodyH","list","attrs","finished-text","load","onLoad","value","callback","$$v","expression","_l","item","index","key","memberIntegralName","brandName","createTime","intervalHistory","_e","src","alt","staticRenderFns","getPointData","data","postJson","pointvue_type_script_lang_js_","name","components","defineProperty","currentPage","pageSize","totalCount","totalPage","computed","wait","ms","promise_default","a","r","setTimeout","_onLoad","asyncToGenerator","regeneratorRuntime","mark","_callee","that","wrap","_context","prev","next","abrupt","getData","stop","apply","arguments","_getData","_callee2","param","resData","_context2","point_getPointData","sent","errorCode","js_public","page","forEach","ele","parse_int_default","push","views_pointvue_type_script_lang_js_","component","componentNormalizer","options","__file","p"],"mappings":"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","file":"js/chunk-79d39695.c8ebefc6.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=24f06d03&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=24f06d03&lang=less&scoped=true&\"","var $export = require('./_export');\nvar $parseInt = require('./_parse-int');\n// 20.1.2.13 Number.parseInt(string, radix)\n$export($export.S + $export.F * (Number.parseInt != $parseInt), 'Number', { parseInt: $parseInt });\n","import '../../style/base.css';\nimport '../index.css';","import { use } from '../utils';\nimport utils from '../utils/scroll';\nimport Loading from '../loading';\nimport { on, off } from '../utils/event';\n\nvar _use = use('list'),\n    sfc = _use[0],\n    bem = _use[1],\n    t = _use[2];\n\nexport default sfc({\n  model: {\n    prop: 'loading'\n  },\n  props: {\n    error: Boolean,\n    loading: Boolean,\n    finished: Boolean,\n    errorText: String,\n    loadingText: String,\n    finishedText: String,\n    immediateCheck: {\n      type: Boolean,\n      default: true\n    },\n    offset: {\n      type: Number,\n      default: 300\n    }\n  },\n  mounted: function mounted() {\n    this.scroller = utils.getScrollEventTarget(this.$el);\n    this.handler(true);\n\n    if (this.immediateCheck) {\n      this.$nextTick(this.check);\n    }\n  },\n  destroyed: function destroyed() {\n    this.handler(false);\n  },\n  activated: function activated() {\n    this.handler(true);\n  },\n  deactivated: function deactivated() {\n    this.handler(false);\n  },\n  watch: {\n    loading: function loading() {\n      this.$nextTick(this.check);\n    },\n    finished: function finished() {\n      this.$nextTick(this.check);\n    }\n  },\n  methods: {\n    check: function check() {\n      if (this.loading || this.finished || this.error) {\n        return;\n      }\n\n      var el = this.$el;\n      var scroller = this.scroller;\n      var scrollerHeight = utils.getVisibleHeight(scroller);\n      /* istanbul ignore next */\n\n      if (!scrollerHeight || utils.getComputedStyle(el).display === 'none' || el.offsetParent === null) {\n        return;\n      }\n\n      var scrollTop = utils.getScrollTop(scroller);\n      var targetBottom = scrollTop + scrollerHeight;\n      var reachBottom = false;\n      /* istanbul ignore next */\n\n      if (el === scroller) {\n        reachBottom = scroller.scrollHeight - targetBottom < this.offset;\n      } else {\n        var elBottom = utils.getElementTop(el) - utils.getElementTop(scroller) + utils.getVisibleHeight(el);\n        reachBottom = elBottom - scrollerHeight < this.offset;\n      }\n      /* istanbul ignore else */\n\n\n      if (reachBottom) {\n        this.$emit('input', true);\n        this.$emit('load');\n      }\n    },\n    clickErrorText: function clickErrorText() {\n      this.$emit('update:error', false);\n      this.$nextTick(this.check);\n    },\n    handler: function handler(bind) {\n      /* istanbul ignore else */\n      if (this.binded !== bind) {\n        this.binded = bind;\n        (bind ? on : off)(this.scroller, 'scroll', this.check);\n      }\n    }\n  },\n  render: function render(h) {\n    return h(\"div\", {\n      \"class\": bem()\n    }, [this.$slots.default, this.loading && h(\"div\", {\n      \"class\": bem('loading')\n    }, [this.$slots.loading || [h(Loading, {\n      \"class\": bem('loading-icon')\n    }), h(\"span\", {\n      \"class\": bem('loading-text')\n    }, [this.loadingText || t('loading')])]]), this.finished && this.finishedText && h(\"div\", {\n      \"class\": bem('finished-text')\n    }, [this.finishedText]), this.error && this.errorText && h(\"div\", {\n      \"on\": {\n        \"click\": this.clickErrorText\n      },\n      \"class\": bem('error-text')\n    }, [this.errorText])]);\n  }\n});","require('../../modules/es6.number.parse-int');\nmodule.exports = require('../../modules/_core').Number.parseInt;\n","/**\r\n * 手机号格式化\r\n * import formatPhone from '@/assets/js/public.js';\r\n * formatPhone.formatPhone(12345678900)\r\n * @param {String} phone\r\n */\r\nconst formatPhone = (phone) => {\r\n  phone = phone.toString();\r\n  return phone.substr(0, 3) + '****' + phone.substr(7, 11);\r\n};\r\n\r\n/**\r\n * 千分位格式化\r\n * @param {数字} val\r\n */\r\nconst toThousands = (val) => {\r\n  let num = (val || 0).toString(),\r\n    result = '';\r\n  while (num.length > 3) {\r\n    result = ',' + num.slice(-3) + result;\r\n    num = num.slice(0, num.length - 3);\r\n  }\r\n  if (num) {\r\n    result = num + result;\r\n  }\r\n  return result;\r\n};\r\n\r\n/**\r\n * 时间戳转换年-月 日\r\n * @param timestamp,\r\n */\r\nfunction timeToDateTime(timestamp, sym) {\r\n  // 格式化 timestamp 返回年月日\r\n  function formatNumber(n) {\r\n    //对于小于 10 的数字返回 0[1-9]\r\n    n = n.toString();\r\n    return n[1] ? n : '0' + n;\r\n  }\r\n  if (timestamp != null) {\r\n    let date = new Date(timestamp);\r\n    let year = date.getFullYear();\r\n    let month = date.getMonth() + 1;\r\n    let day = date.getDate();\r\n    return [year, month, day].map(formatNumber).join(sym || '-');\r\n  }\r\n  return '--';\r\n}\r\n\r\n/**\r\n * 时间戳转换年-月 日\r\n * @param timestamp,\r\n */\r\nfunction timeToDate(timestamp, sym) {\r\n  // 格式化 timestamp 返回年月日\r\n  function formatNumber(n) {\r\n    //对于小于 10 的数字返回 0[1-9]\r\n    n = n.toString();\r\n    return n[1] ? n : '0' + n;\r\n  }\r\n  if (timestamp != null) {\r\n    let date = new Date(timestamp);\r\n    let year = date.getFullYear();\r\n    let month = date.getMonth() + 1;\r\n    let day = date.getDate();\r\n    let h = date.getHours();\r\n    let m = date.getMinutes();\r\n    let s = date.getSeconds();\r\n    return [year, month, day].map(formatNumber).join(sym || '-') +' '+[h, m, s].map(formatNumber).join(':');\r\n  }\r\n  return '--';\r\n}\r\n\r\nexport default {\r\n  formatPhone,\r\n  toThousands,\r\n  timeToDateTime,\r\n  timeToDate\r\n}\r\n","var $parseInt = require('./_global').parseInt;\nvar $trim = require('./_string-trim').trim;\nvar ws = require('./_string-ws');\nvar hex = /^[-+]?0[xX]/;\n\nmodule.exports = $parseInt(ws + '08') !== 8 || $parseInt(ws + '0x16') !== 22 ? function parseInt(str, radix) {\n  var string = $trim(String(str), 3);\n  return $parseInt(string, (radix >>> 0) || (hex.test(string) ? 16 : 10));\n} : $parseInt;\n","module.exports = require(\"core-js/library/fn/number/parse-int\");","var $export = require('./_export');\nvar defined = require('./_defined');\nvar fails = require('./_fails');\nvar spaces = require('./_string-ws');\nvar space = '[' + spaces + ']';\nvar non = '\\u200b\\u0085';\nvar ltrim = RegExp('^' + space + space + '*');\nvar rtrim = RegExp(space + space + '*$');\n\nvar exporter = function (KEY, exec, ALIAS) {\n  var exp = {};\n  var FORCE = fails(function () {\n    return !!spaces[KEY]() || non[KEY]() != non;\n  });\n  var fn = exp[KEY] = FORCE ? exec(trim) : spaces[KEY];\n  if (ALIAS) exp[ALIAS] = fn;\n  $export($export.P + $export.F * FORCE, 'String', exp);\n};\n\n// 1 -> String#trimLeft\n// 2 -> String#trimRight\n// 3 -> String#trim\nvar trim = exporter.trim = function (string, TYPE) {\n  string = String(defined(string));\n  if (TYPE & 1) string = string.replace(ltrim, '');\n  if (TYPE & 2) string = string.replace(rtrim, '');\n  return string;\n};\n\nmodule.exports = exporter;\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"point-contain\"},[_c('div',{staticClass:\"point-header border-box\"},[_c('p',{staticClass:\"font-13 color-cfa972\"},[_vm._v(\"可用积分\")]),_c('div',{staticClass:\"point-number font-50 color-cfa972\"},[_vm._v(_vm._s(_vm.accumulatPoints))])]),_c('div',{staticClass:\"point-body\",style:({'min-height': _vm.$store.state.bodyH - 113 + 'px'})},[(!!_vm.list.length)?_c('van-list',{attrs:{\"finished\":_vm.finished,\"finished-text\":\" \"},on:{\"load\":_vm.onLoad},model:{value:(_vm.loading),callback:function ($$v) {_vm.loading=$$v},expression:\"loading\"}},_vm._l((_vm.list),function(item,index){return _c('div',{key:index+item.memberIntegralName,staticClass:\"point-list-cell border-box flex border-bottom-1\"},[_c('div',{staticClass:\"point-list-cell_left flex-1\"},[_c('div',{staticClass:\"list-cell_left_name font-15 color-232326\"},[_vm._v(_vm._s(item.memberIntegralName))]),_c('div',{staticClass:\"list-cell_left_brand font-12 m-t-6 color-232326\"},[_vm._v(_vm._s(item.brandName))]),_c('div',{staticClass:\"list-cell_left_date font-12 m-t-8 color-848689\"},[_vm._v(_vm._s(item.createTime))])]),_c('div',{staticClass:\"point-list-cell_right flex-1 text-right\"},[_c('div',{staticClass:\"list-cell_right_num font-18 color-000\"},[_vm._v(_vm._s(item.intervalHistory))])])])}),0):_vm._e(),(!_vm.list.length)?_c('div',{staticClass:\"no-recorde-data no-data-contain\"},[_c('img',{attrs:{\"src\":require(\"../../assets/images/data-null-icon.png\"),\"alt\":\"card-no-data\"}}),_c('p',{staticClass:\"font-16 color-848689\"},[_vm._v(\"暂无积分明细\")])]):_vm._e()],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/**\r\n * 积分 api\r\n */\r\nimport { postJson } from './request';\r\n\r\n/* Common */\r\nexport const getPointData = data => postJson('/gicfwh/load-group-interal-record', data);\r\n","<template>\r\n  <div class=\"point-contain\">\r\n    <div class=\"point-header border-box\">\r\n      <p class=\"font-13 color-cfa972\">可用积分</p>\r\n      <div class=\"point-number font-50 color-cfa972\">{{ accumulatPoints }}</div>\r\n    </div>\r\n    <div class=\"point-body\" :style=\"{'min-height': $store.state.bodyH - 113 + 'px'}\">\r\n      <van-list\r\n        v-if=\"!!list.length\"\r\n        v-model=\"loading\"\r\n        :finished=\"finished\"\r\n        finished-text=\" \"\r\n        @load=\"onLoad\">\r\n        <div class=\"point-list-cell border-box flex border-bottom-1\" v-for=\"(item,index) in list\" :key=\"index+item.memberIntegralName\">\r\n          <div class=\"point-list-cell_left flex-1\">\r\n            <div class=\"list-cell_left_name font-15 color-232326\">{{ item.memberIntegralName }}</div>\r\n            <div class=\"list-cell_left_brand font-12 m-t-6 color-232326\">{{ item.brandName }}</div>\r\n            <div class=\"list-cell_left_date font-12 m-t-8 color-848689\">{{ item.createTime }}</div>\r\n          </div>\r\n          <div class=\"point-list-cell_right flex-1 text-right\">\r\n            <div class=\"list-cell_right_num font-18 color-000\">{{ item.intervalHistory }}</div>\r\n          </div>\r\n        </div>\r\n      </van-list>\r\n      <div class=\"no-recorde-data no-data-contain\" v-if=\"!list.length\">\r\n        <img src=\"../../assets/images/data-null-icon.png\" alt=\"card-no-data\"/>\r\n        <p class=\"font-16 color-848689\">暂无积分明细</p>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { List  } from 'vant';\r\nimport publicMethod from '@/assets/js/public.js';\r\nimport { getPointData } from '@/api/point.js';\r\nexport default {\r\n  name: \"point\",\r\n  components: {\r\n    [List.name]:List\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      accumulatPoints: '0',\r\n      list: [\r\n        /* {\r\n          memberIntegralName: '今日签到',\r\n          brandName: '[MATERIAL GIRL]',\r\n          createTime: '2018-12-06 10:32',\r\n          intervalHistory: '5'\r\n        } */\r\n      ],\r\n      loading: false,\r\n      finished: false,\r\n      currentPage: 1,\r\n      pageSize: 5,\r\n      totalCount: 0,\r\n      totalPage: 0\r\n    };\r\n  },\r\n\r\n  computed: {\r\n\r\n  },\r\n\r\n  methods: {\r\n\r\n    /**\r\n     * sleep\r\n     */\r\n    wait(ms) {\r\n      return new Promise(r => setTimeout(r, ms));\r\n    },\r\n\r\n    async onLoad() {\r\n      const that = this;\r\n      // 异步更新数据\r\n      await that.wait(1000);\r\n      if (that.currentPage >= that.totalPage) {\r\n        // 加载状态结束\r\n        that.loading = false;\r\n        that.finished = true;\r\n        return false;\r\n      }\r\n      that.currentPage = that.currentPage + 1;\r\n      await that.getData();\r\n\r\n      // 加载状态结束\r\n      that.loading = false;\r\n      // 数据全部加载完成\r\n      if (that.list.length >= that.totalCount) {\r\n        that.finished = true;\r\n      }\r\n    },\r\n\r\n    /**\r\n     * 获取积分数据\r\n     */\r\n    async getData() {\r\n      const that = this;\r\n      let param = {\r\n        // memberId: that.$store.state.memberId,\r\n        currentPage: that.currentPage,\r\n        pageSize: that.pageSize\r\n      }\r\n      let resData = await getPointData(param);\r\n      if (resData.errorCode == 0) {\r\n        that.accumulatPoints = String(resData.result.accumulatPoints).length < 4?  resData.result.accumulatPoints: publicMethod.toThousands(resData.result.accumulatPoints);\r\n        resData.result.page.result.forEach(ele => {\r\n          ele.intervalHistory = Number.parseInt(ele.intervalHistory)>0? '+'+ Number.parseInt(ele.intervalHistory): ele.intervalHistory;\r\n          ele.createTime = publicMethod.timeToDate(ele.createTime);\r\n          that.list.push(ele);\r\n        });\r\n        that.currentPage = resData.result.page.currentPage;\r\n        that.totalPage = resData.result.page.totalPage;\r\n        that.totalCount =  resData.result.page.totalCount;\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    let that = this;\r\n    that.getData();\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n@import '../../assets/css/fonts.css';\r\n.point-header {\r\n  width: 100%;\r\n  padding: 15px 0 15px 31px;\r\n  background: url('../../assets/images/banner_bg.png') no-repeat center center;\r\n  background-size: 100%;\r\n  font-family: 'DINPro';\r\n}\r\n\r\n.point-body {\r\n  position: relative;\r\n\r\n}\r\n.point-list-cell {\r\n  width: 100%;\r\n  padding: 15px;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=24f06d03&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=24f06d03&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"24f06d03\",\n  null\n  \n)\n\ncomponent.options.__file = \"index.vue\"\nexport default component.exports","module.exports = __webpack_public_path__ + \"img/data-null-icon.c2c4cad8.png\";","module.exports = '\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003' +\n  '\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF';\n"],"sourceRoot":""}